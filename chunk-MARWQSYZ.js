import{a as k,b as S,e as L,k as I}from"./chunk-QX4WDJOS.js";import{a as E}from"./chunk-A5UDAQGO.js";import{$a as p,Aa as M,Ja as f,Ka as _,Na as m,Oa as t,Pa as n,Qa as h,U as b,Ua as w,V as x,Va as d,Wa as g,Xa as D,Za as i,ab as v,ba as u,bb as y,cb as C,oa as l,wb as T}from"./chunk-GDJIZUBK.js";import"./chunk-2NFLSA4Y.js";function N(s,a){s&1&&(t(0,"div",4)(1,"div",21)(2,"h3",22),i(3,"Procesando..."),n(),t(4,"p",23),i(5,"Por favor espera mientras guardamos tu texto."),n(),t(6,"div",24),h(7,"div",25),n()()())}function V(s,a){if(s&1){let o=w();t(0,"div",4)(1,"div",26)(2,"div",8)(3,"h3",27),i(4,"Guardando Texto"),n(),t(5,"button",28),d("click",function(){b(o);let r=g();return x(r.closeModal())}),i(6," \xD7 "),n()(),t(7,"div",23)(8,"p",29),i(9,"Guardando tu documento..."),n(),t(10,"div",30),h(11,"div",31),n(),t(12,"p",32),i(13),n()(),t(14,"div",33)(15,"button",34),d("click",function(){b(o);let r=g();return x(r.cancelSave())}),i(16," \u274C Cancelar "),n(),t(17,"button",35),d("click",function(){b(o);let r=g();return x(r.saveInBackground())}),i(18," \u{1F504} Continuar en segundo plano "),n()()()()}if(s&2){let o=g();l(11),D("width",o.saveProgress(),"%"),l(2),p("",o.saveProgress(),"% completado")}}var P=class s{content1="";showModal1=u(!1);saveText1(){this.showModal1.set(!0),setTimeout(()=>{this.showModal1.set(!1)},5e3)}content="";showModal=u(!1);saveProgress=u(0);history=u([""]);currentIndex=u(0);onTextChange(){let a=this.history().slice(0,this.currentIndex()+1);a.push(this.content),this.history.set(a),this.currentIndex.set(a.length-1)}canUndo(){return this.currentIndex()>0}canRedo(){return this.currentIndex()<this.history().length-1}undo(){this.canUndo()&&(this.currentIndex.update(a=>a-1),this.content=this.history()[this.currentIndex()])}redo(){this.canRedo()&&(this.currentIndex.update(a=>a+1),this.content=this.history()[this.currentIndex()])}saveText(){this.showModal.set(!0),this.saveProgress.set(0);let a=setInterval(()=>{let o=this.saveProgress();o<100?this.saveProgress.set(Math.min(o+20,100)):(clearInterval(a),setTimeout(()=>this.closeModal(),1e3))},500)}closeModal(){this.showModal.set(!1),this.saveProgress.set(0)}cancelSave(){this.closeModal()}saveInBackground(){this.showModal.set(!1)}clearText(){confirm("\xBFEst\xE1s seguro de que quieres limpiar todo el texto?")&&(this.content="",this.onTextChange())}loadTemplate(){this.content=`Plantilla de ejemplo:

1. Introducci\xF3n
2. Desarrollo
3. Conclusiones`,this.onTextChange()}static \u0275fac=function(o){return new(o||s)};static \u0275cmp=M({type:s,selectors:[["app-control-libertad-malo"]],decls:39,vars:10,consts:[["numeroHeuristica","3","titulo","Control y Libertad del Usuario","concepto","Los usuarios a menudo eligen funciones por error y necesitar\xE1n una 'salida de emergencia' claramente marcada para salir del estado no deseado sin tener que pasar por un di\xE1logo extenso. Soporte deshacer y rehacer."],[1,"p-6","max-w-md","mx-auto","bg-white","rounded","shadow"],[1,"text-xl","mb-4"],["placeholder","Escribe aqu\xED...",1,"w-full","h-32","p-3","border","rounded","resize-none",3,"ngModelChange","ngModel"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"mt-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded",3,"click"],[1,"mt-6","p-6","max-w-2xl","mx-auto","bg-white","rounded-xl","shadow-lg","border"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center"],[1,"text-2xl","mr-3"],[1,"text-xl","font-semibold"],[1,"flex","space-x-2"],["title","Deshacer (Ctrl+Z)",1,"px-3","py-2","text-sm","bg-gray-100","hover:bg-gray-200","disabled:bg-gray-50","disabled:text-gray-400","rounded-lg","border","transition-colors",3,"click","disabled"],["title","Rehacer (Ctrl+Y)",1,"px-3","py-2","text-sm","bg-gray-100","hover:bg-gray-200","disabled:bg-gray-50","disabled:text-gray-400","rounded-lg","border","transition-colors",3,"click","disabled"],["placeholder","Escribe aqu\xED... Usa Ctrl+Z para deshacer y Ctrl+Y para rehacer",1,"w-full","h-40","p-4","border-2","border-gray-200","rounded-lg","resize-none","focus:border-blue-500","focus:outline-none",3,"ngModelChange","input","ngModel"],[1,"mt-2","text-sm","text-gray-600","flex","justify-between"],[1,"mt-6","flex","space-x-3"],[1,"px-6","py-3","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-300","text-white","rounded-lg","font-medium","transition-colors",3,"click","disabled"],[1,"px-6","py-3","bg-red-100","hover:bg-red-200","text-red-700","disabled:bg-gray-100","disabled:text-gray-400","rounded-lg","font-medium","transition-colors",3,"click","disabled"],[1,"px-6","py-3","bg-green-100","hover:bg-green-200","text-green-700","rounded-lg","font-medium","transition-colors",3,"click"],[1,"bg-white","p-6","rounded","max-w-sm"],[1,"text-lg","mb-4"],[1,"mb-4"],[1,"flex","justify-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"bg-white","p-6","rounded-xl","max-w-md","w-full","mx-4","border"],[1,"text-lg","font-semibold"],[1,"text-gray-400","hover:text-gray-600","text-xl","font-bold","w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100",3,"click"],[1,"mb-2"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-blue-600","h-2","rounded-full","transition-all","duration-300"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","space-x-3"],[1,"flex-1","px-4","py-2","bg-gray-100","hover:bg-gray-200","text-gray-700","rounded-lg","transition-colors",3,"click"],[1,"flex-1","px-4","py-2","bg-blue-100","hover:bg-blue-200","text-blue-700","rounded-lg","transition-colors",3,"click"]],template:function(o,e){o&1&&(h(0,"app-header-heuristica",0),t(1,"section")(2,"div",1)(3,"h2",2),i(4,"Editor de Texto"),n(),t(5,"textarea",3),C("ngModelChange",function(c){return y(e.content1,c)||(e.content1=c),c}),i(6,"      "),n(),f(7,N,8,0,"div",4),t(8,"div",5)(9,"button",6),d("click",function(){return e.saveText1()}),i(10," Guardar Texto "),n()()()(),t(11,"section")(12,"div",7)(13,"div",8)(14,"div",9)(15,"span",10),i(16,"\u{1F4DD}"),n(),t(17,"h2",11),i(18,"Editor de Texto"),n()(),t(19,"div",12)(20,"button",13),d("click",function(){return e.undo()}),i(21," \u21B6 Deshacer "),n(),t(22,"button",14),d("click",function(){return e.redo()}),i(23," \u21B7 Rehacer "),n()()(),t(24,"textarea",15),C("ngModelChange",function(c){return y(e.content,c)||(e.content=c),c}),d("input",function(){return e.onTextChange()}),i(25,"      "),n(),t(26,"div",16)(27,"span"),i(28),n(),t(29,"span"),i(30),n()(),f(31,V,19,3,"div",4),t(32,"div",17)(33,"button",18),d("click",function(){return e.saveText()}),i(34," \u{1F4BE} Guardar Texto "),n(),t(35,"button",19),d("click",function(){return e.clearText()}),i(36," \u{1F5D1}\uFE0F Limpiar Todo "),n(),t(37,"button",20),d("click",function(){return e.loadTemplate()}),i(38," \u{1F4C4} Cargar Plantilla "),n()()()()),o&2&&(l(5),v("ngModel",e.content1),l(2),_(e.showModal1()?7:-1),l(13),m("disabled",!e.canUndo()),l(2),m("disabled",!e.canRedo()),l(2),v("ngModel",e.content),l(4),p("Cambios: ",e.history().length),l(2),p("Posici\xF3n: ",e.currentIndex()+1),l(),_(e.showModal()?31:-1),l(2),m("disabled",e.content.length===0),l(2),m("disabled",e.content.length===0))},dependencies:[T,I,k,S,L,E],encapsulation:2})};export{P as ControlLibertadMalo};
